<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>VM Creation Test</title>
</head>
<body>
<form id="vmForm">
  <input type="text" id="template_name" name="template_name" placeholder="Template Name">
  <input type="number" id="ram" name="ram" placeholder="RAM (MB)">
  <input type="number" id="cpus" name="cpus" placeholder="CPUs">
  <input type="number" id="storage" name="storage" placeholder="Storage (MB)">
  <input type="text" id="token" name="token" placeholder="Token">
  <button type="button" onclick="createVM()">Create VM</button>
</form>

<script>
function createVM() {
  const formData = {
    template_name: document.getElementById('template_name').value,
    ram: parseInt(document.getElementById('ram').value, 10),
    cpus: parseInt(document.getElementById('cpus').value, 10),
    storage: parseInt(document.getElementById('storage').value, 10),
    token: document.getElementById('token').value,
  };

  fetch('http://127.0.0.1:8000/select-server-and-create-vm/', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json'
    },
    body: JSON.stringify(formData)
  })
  .then(response => response.json())
  .then(data => alert(JSON.stringify(data)))
  .catch((error) => {
    console.error('Error:', error);
    alert('An error occurred!');
  });
}
</script>
</body>
</html>
